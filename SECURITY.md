# ğŸ”’ é¡¹ç›®å®‰å…¨æŒ‡å—

## æ•æ„Ÿä¿¡æ¯ä¿æŠ¤

### âœ… å·²ä¿æŠ¤çš„æ•æ„Ÿä¿¡æ¯

1. **æ•°æ®åº“å¯†ç ** - å­˜å‚¨åœ¨ `apikey/database.env`
   - âœ… å·²è¢« `.gitignore` å¿½ç•¥
   - âœ… ä¸ä¼šæ¨é€åˆ°è¿œç¨‹ä»“åº“

2. **Docker å¯†ç ** - ä½¿ç”¨ç¯å¢ƒå˜é‡
   - âœ… `docker-compose.yml` ä½¿ç”¨ç¯å¢ƒå˜é‡å½¢å¼
   - âœ… `docker-compose.override.yml` åŒ…å«å®é™…å¯†ç ä½†è¢«å¿½ç•¥

3. **ç”Ÿäº§ç¯å¢ƒé…ç½®** - ä½¿ç”¨ç¤ºä¾‹æ–‡ä»¶
   - âœ… `production.env.example` åªåŒ…å«å ä½ç¬¦
   - âœ… å®é™…é…ç½®æ–‡ä»¶è¢« `.gitignore` å¿½ç•¥

### ğŸ“‚ .gitignore é…ç½®

```gitignore
# API keys and sensitive configuration
apikey/
*.env
.env*

# Docker compose overrides with sensitive data
docker-compose.override.yml
```

## ğŸš€ éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•

### åœ¨æ¨é€åˆ° GitHub å‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] æ£€æŸ¥ `apikey/` ç›®å½•æ˜¯å¦è¢«å¿½ç•¥
- [ ] ç¡®è®¤æ²¡æœ‰ `.env` æ–‡ä»¶è¢«è¿½è¸ª
- [ ] éªŒè¯ `docker-compose.override.yml` è¢«å¿½ç•¥
- [ ] æ£€æŸ¥ä»£ç ä¸­æ²¡æœ‰ç¡¬ç¼–ç çš„å¯†ç 
- [ ] ç¡®è®¤æ‰€æœ‰æ•æ„Ÿé…ç½®éƒ½ä½¿ç”¨ç¯å¢ƒå˜é‡

### å¿«é€Ÿæ£€æŸ¥å‘½ä»¤ï¼š

```bash
# æ£€æŸ¥å“ªäº›æ–‡ä»¶ä¼šè¢«æ¨é€
git status

# æ£€æŸ¥æ˜¯å¦æœ‰æ•æ„Ÿæ–‡ä»¶è¢«è¿½è¸ª
git ls-files | grep -E "(\.env|apikey|password|secret)"

# æ£€æŸ¥ä»£ç ä¸­æ˜¯å¦æœ‰ç¡¬ç¼–ç å¯†ç 
grep -r "password.*=" --include="*.go" . || echo "âœ… æ²¡æœ‰å‘ç°ç¡¬ç¼–ç å¯†ç "
```

## ğŸ”§ æœ¬åœ°å¼€å‘ç¯å¢ƒè®¾ç½®

### 1. å…‹éš†é¡¹ç›®åçš„è®¾ç½®

```bash
# 1. å¤åˆ¶é…ç½®æ–‡ä»¶
cp production.env.example apikey/database.env

# 2. ä¿®æ”¹æ•°æ®åº“é…ç½®
# ç¼–è¾‘ apikey/database.envï¼Œè®¾ç½®æ‚¨çš„æ•°æ®åº“å¯†ç 

# 3. å¤åˆ¶ Docker é…ç½®
cp docker-compose.yml docker-compose.override.yml
# ç¼–è¾‘ docker-compose.override.ymlï¼Œè®¾ç½®å¯†ç 
```

### 2. å›¢é˜Ÿåä½œæ³¨æ„äº‹é¡¹

- âœ… åˆ‡å‹¿å°† `apikey/` ç›®å½•æ·»åŠ åˆ°ç‰ˆæœ¬æ§åˆ¶
- âœ… ä½¿ç”¨ `production.env.example` ä½œä¸ºé…ç½®æ¨¡æ¿
- âœ… åœ¨ README ä¸­è¯´æ˜å¦‚ä½•è®¾ç½®æœ¬åœ°é…ç½®
- âœ… å®šæœŸæ£€æŸ¥ `.gitignore` æ˜¯å¦ç”Ÿæ•ˆ

## ğŸ›¡ï¸ ç”Ÿäº§ç¯å¢ƒå®‰å…¨

### ç¯å¢ƒå˜é‡ç®¡ç†

ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ç®¡ç†æ•æ„Ÿä¿¡æ¯ï¼š

1. **Docker Secrets**ï¼ˆæ¨èï¼‰
2. **Kubernetes Secrets**
3. **ç¯å¢ƒå˜é‡æ³¨å…¥**
4. **ä¸“ç”¨å¯†é’¥ç®¡ç†ç³»ç»Ÿ**

### ç¤ºä¾‹ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡

```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export DB_PASSWORD="your_secure_password"
export MYSQL_ROOT_PASSWORD="another_secure_password"

# è¿è¡Œåº”ç”¨
./app
```

## ğŸš¨ ç´§æ€¥æƒ…å†µå¤„ç†

### å¦‚æœæ„å¤–æ¨é€äº†æ•æ„Ÿä¿¡æ¯ï¼š

1. **ç«‹å³æ›´æ”¹å¯†ç **
2. **ä½¿ç”¨ git filter-branch åˆ é™¤å†å²è®°å½•**
3. **å¼ºåˆ¶æ¨é€æ¸…ç†åçš„å†å²**
4. **é€šçŸ¥å›¢é˜Ÿæˆå‘˜é‡æ–°å…‹éš†**

```bash
# åˆ é™¤æ•æ„Ÿæ–‡ä»¶çš„å†å²è®°å½•ï¼ˆå±é™©æ“ä½œï¼‰
git filter-branch --force --index-filter \
  'git rm --cached --ignore-unmatch apikey/database.env' \
  --prune-empty --tag-name-filter cat -- --all

# å¼ºåˆ¶æ¨é€
git push origin --force --all
```

## ğŸ“‹ å®‰å…¨æ£€æŸ¥æ¸…å•

### ä»£ç å®¡æŸ¥æ—¶æ£€æŸ¥ï¼š
- [ ] æ²¡æœ‰ç¡¬ç¼–ç çš„å¯†ç ã€APIå¯†é’¥
- [ ] æ‰€æœ‰æ•æ„Ÿé…ç½®éƒ½ä½¿ç”¨ç¯å¢ƒå˜é‡
- [ ] `.gitignore` æ­£ç¡®é…ç½®
- [ ] æ²¡æœ‰åœ¨æ—¥å¿—ä¸­è¾“å‡ºæ•æ„Ÿä¿¡æ¯
- [ ] æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²ä¸åŒ…å«æ˜æ–‡å¯†ç 

### éƒ¨ç½²æ—¶æ£€æŸ¥ï¼š
- [ ] ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å¼ºå¯†ç 
- [ ] å¯ç”¨HTTPS
- [ ] é…ç½®é˜²ç«å¢™è§„åˆ™
- [ ] å®šæœŸæ›´æ–°ä¾èµ–åŒ…
- [ ] ç›‘æ§å¼‚å¸¸è®¿é—®

---

**è®°ä½ï¼šå®‰å…¨æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§çš„ä»»åŠ¡ï¼** ğŸ”
